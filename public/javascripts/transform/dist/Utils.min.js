function ImagesLoader(e){this.images=[],this.imageCount=0,this.completeCallback=e}var Mouse={};Mouse.x=0,Mouse.y=0,Mouse.isTouchSupported="ontouchstart"in window,Mouse.START=Mouse.isTouchSupported?"touchstart":"mousedown",Mouse.MOVE=Mouse.isTouchSupported?"touchmove":"mousemove",Mouse.END=Mouse.isTouchSupported?"touchend":"mouseup",Mouse.get=function(e,o){o||(o=e.currentTarget),e.touches?e.touches.length&&(Mouse.x=parseInt(e.touches[0].pageX),Mouse.y=parseInt(e.touches[0].pageY)):(Mouse.x=parseInt(e.clientX),Mouse.y=parseInt(e.clientY));var t=o.getBoundingClientRect();return Mouse.x+=o.scrollLeft-o.clientLeft-t.left,Mouse.y+=o.scrollTop-o.clientTop-t.top,Mouse},ImagesLoader.prototype.load=function(e){var o;for(this.imageCount=e.length,o=0;o<this.imageCount;o++)this.loadImage(e[o])},ImagesLoader.prototype.loadImage=function(e){var o=new Image;this.images.push(o),this.images[e]=o,o.onload=this.handleOnLoad.bind(this),o.onerror=this.handleOnError.bind(this),o.src=e},ImagesLoader.prototype.handleOnLoad=function(){this.checkComplete()},ImagesLoader.prototype.handleOnError=function(){console.log("Failed to load img "+this),this.checkComplete()},ImagesLoader.prototype.checkComplete=function(){if(--this.imageCount<=0&&null!=this.completeCallback){var e=this.completeCallback;this.completeCallback=null,e()}},console||(console={log:function(){}}),function(){Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var o=Array.prototype.slice.call(arguments,1),t=this,n=function(){},i=function(){return t.apply(this instanceof n&&e?this:e,o.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,i.prototype=new n,i});for(var e=0,o=["ms","moz","webkit","o"],t=0;t<o.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[o[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[o[t]+"CancelAnimationFrame"]||window[o[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(o,t){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),a=window.setTimeout(function(){o(n+i)},i);return e=n+i,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();